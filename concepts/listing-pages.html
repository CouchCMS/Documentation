<!doctype html>
<html lang="en">
<head>

	<meta charset="utf-8">
	<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	<title>Listing Pages - Documentation | CouchCMS - A simple and Open-Source CMS for web designers</title>
	<meta name="description" content="CouchCMS - A simple, light-weight and open-source CMS for web designers">
	<meta name="keywords" content="">
	<link rel="shortcut icon" href="../assets/img/favicon.ico">
	<link rel="apple-touch-icon" href="../assets/img/apple-touch-icon.jpg">
	<link rel="apple-touch-icon" sizes="72x72" href="../assets/img/apple-touch-icon-72x72.jpg">
	<link rel="apple-touch-icon" sizes="114x114" href="../assets/img/apple-touch-icon-114x114.jpg">
    <link rel="stylesheet" type="text/css" href="../assets/css/custom-animations.css" />
	<link rel="stylesheet" type="text/css" href="../assets/css/lib/font-awesome.min.css" />
	<link rel="stylesheet" type="text/css" href="../assets/css/style.css" />


    <link rel="stylesheet" type="text/css" href="../assets/css/docs-style.css" />

	<!--[if lt IE 9]>
		<script src="../assets/js/html5shiv.js"></script>
		<script src="../assets/js/respond.min.js"></script>
	<![endif]-->
</head>

<body>
	<!-- Header -->
	<header>
		<nav class="navigation navigation-header relative-header background-header">
			<div class="container">
				<div class="navigation-brand">
					<div class="brand-logo">
						<a href="https://www.couchcms.com/" class="logo"></a><a href="https://www.couchcms.com/" class="logo logo-alt"></a>
					</div>
				</div>
				<button class="navigation-toggle">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<div class="navigation-navbar collapsed">
					<ul class="navigation-bar navigation-bar-left">
						<li><a href="https://www.couchcms.com/">Home</a></li>
                        <li><a href="https://www.couchcms.com/products/">Downloads & License</a></li>
                        <li class="active"><a href="https://docs.couchcms.com/">Documentation</a></li>
						<li><a href="https://www.couchcms.com/forum/">Forum</a></li>
                        <li><a href="https://www.couchcms.com/contact/">Contact Us</a></li>
					</ul>
					<ul class="navigation-bar navigation-bar-right">
						<li class="featured"><a class="btn btn-sm btn-outline-color" href="https://github.com/CouchCMS/CouchCMS">GitHub Repository</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>

	<section class="section dark-text" >
		<div class="container">
        <!-- start -->
        <a class="report-bug" data-title="Listing Pages" href="https://github.com/CouchCMS/Documentation/issues/new" target="_blank" title="Is there a mistake on this page? Report the issue!"><img alt="" src="../assets/img/bug.png"/></a>

        <div id="content"><ul class="breadcrumbs" itemscope itemtype="http://schema.org/BreadcrumbList">
                    <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="../index.html" itemprop="item"><span itemprop="name">Documentation</span><meta content="1" itemprop="position"/></a></li><li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="../concepts.html" itemprop="item"><span itemprop="name">Core Concepts</span><meta content="2" itemprop="position"/></a></li><li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a class="text-link" href="../concepts/listing-pages.html" itemprop="item"><span itemprop="name">Listing Pages</span><meta content="3" itemprop="position"/></a></li>
                </ul><form action="../search.html" id="search_form" method="get" name="search_form">
                <input id="search_input" name="q" placeholder="Search" required type="text" value=""/>
                <input id="search_submit" type="submit" value="Go"/>
            </form>

            <article><h1 id="listing-pages">Listing Pages</h1>
<p>Couch has a powerful tag named <a href="../tags-reference/pages.html"><strong><em>pages</em></strong></a> that can be used to list all pages belonging to a template.<br/>
For example -</p>
<pre><code>&lt;cms:pages masterpage=&#39;blog.php&#39;&gt;
     &lt;!-- All the variables of each page cloned out of this template are available here --&gt;
     &lt;cms:show k_page_title /&gt;&lt;br&gt;
&lt;/cms:pages&gt;</code></pre><p>- the snippet given above will fetch all pages cloned out of <em>blog.php</em> template.<br/>
The <em>masterpage</em> parameter stands for the template&#39;s name. If this parameter is omitted, the name of the current template (i.e. the template this snippet is placed in) will be used.</p>
<p>This tag iterates through each of the fetched page and makes available all the data associated with the page as variables. The variables are exactly the same as those made available had the page been accessed discretly via its URL (i.e. in its page-view).</p>
<p><a href="../tags-reference/pages.html"><strong><em>Pages</em></strong></a> tag supports a number of parameters that can be used to fine tune the actual pages that get fetched.<br/>
Please see the <a href="../tags-reference/pages.html#parameters"><strong>parameters</strong></a> section for a comprehensive list.</p>
<h3 id="listing-pages-in-the-list-views-home-view-folder-view-and-archive-view-">LISTING PAGES IN THE LIST-VIEWS (HOME-VIEW, FOLDER-VIEW AND ARCHIVE-VIEW)</h3>
<p>As shown in the previous chapter, for clonable templates, Couch considers certain URLS as those meant for listing pages cloned out of the template being accessed.</p>
<p>For example:<br/>
<em>http&#58;//<a href="http://www.mysite.com/blog/">www.mysite.com/blog/</a>_<br/>
- is considered to be a <strong>home-view</strong> and a list to all the pages cloned out of _blog.php</em> should be displayed in this view.</p>
<p><em>http&#58;//<a href="http://www.mysite.com/blog/hobbies/">www.mysite.com/blog/hobbies/</a>_<br/>
- is considered to be a <strong>folder-view</strong> and a list of all the pages cloned out of _blog.php</em> that belong to &#39;hobbies&#39; sub-folder should be displayed in this view.</p>
<p><em>http&#58;//<a href="http://www.mysite.com/blog/2010/05/">www.mysite.com/blog/2010/05/</a>_<br/>
- is considered to be an <strong>archive-view</strong> and a list of all the pages cloned out of _blog.php</em> that have been published during the month of May in 2010 should be displayed in this view.</p>
<p>When a template is accessed using the URLs mentioned above, Couch recognizes the view and sets certain variables that can be used by you to list the pages as is expected for the particular view.<br/>
See: <a href="variables-in-views.html"><strong>Variables available in views</strong></a>.<br/>
It is ultimately upto you whether or not you choose to list pages in the expected manner.</p>
<h3 id="handling-home-view">Handling home-view</h3>
<p>The <em>k_is_home</em> variable can be used to recognize this view and then the <a href="../tags-reference/pages.html"><strong><em>pages</em></strong></a> tag can be used to list all pages cloned from the template being accessed.</p>
<pre><code>&lt;cms:if k_is_home &gt;
    &lt;cms:pages&gt;
        &lt;!-- All the variables of each page cloned out of this template are available here --&gt;
    &lt;/cms:pages&gt;
&lt;/cms:if&gt;</code></pre><h3 id="handling-folder-view">Handling folder-view</h3>
<p>The <em>k_is_folder</em> variable can be used to recognize this view. The <em>k_folder_name</em> variable made available by Couch in this view can then be used as a parameter of the <a href="../tags-reference/pages.html"><strong><em>pages</em></strong></a> tag to list pages belonging to that folder -</p>
<pre><code>&lt;cms:if k_is_folder &gt;
    &lt;cms:pages folder=k_folder_name include_subfolders=&#39;1&#39; &gt;
        &lt;!-- All the variables of each page in this folder are available here --&gt;
    &lt;/cms:pages&gt;
&lt;/cms:if&gt;</code></pre><h3 id="handling-archive-view">Handling archive-view</h3>
<p>The <em>k_is_archive</em> can be used to recognize this view. In this view, Couch makes available the <em>k_archive_date</em> and <em>k_next_archive_date</em> variables that denote the boundries of the archive&#39;s period. These two variables can then be used as parameters of the <a href="../tags-reference/pages.html"><strong><em>pages</em></strong></a> tag to list pages belonging to that time period -</p>
<pre><code>&lt;cms:if k_is_archive &gt;
    &lt;cms:pages start_on=k_archive_date stop_before=k_next_archive_date &gt;
        &lt;!-- All the variables of each page belonging to this archive period are available here --&gt;
    &lt;/cms:pages&gt;
&lt;/cms:if&gt;</code></pre><h3 id="a-unified-way-of-handling-all-the-listviews">A unified way of handling all the listviews</h3>
<p>The three list views can be handled separately if the way the pages and their contents are displayed differs between the views. However, if their is no difference in the way the list is displayed, the following is the preferred way of handling all the three list-views together -</p>
<pre><code>&lt;cms:if k_is_list &gt;
    &lt;cms:pages folder=k_folder_name include_subfolders=&#39;1&#39; start_on=k_archive_date stop_before=k_next_archive_date &gt;
        &lt;!-- All the variables of each page belonging to this view are available here --&gt;
    &lt;/cms:pages&gt;
&lt;/cms:if&gt;</code></pre><p class="success">The snippet given above can handle all the list-views because if the current view is a _home-view_, the *k\_folder\_name*, *k\_archive\_date* and *k\_next\_archive\_date* will not be set and hence these parameters will have no effect on the pages fetched. Similarly in the *folder-view* the *k\_archive\_date* and *k\_next\_archive\_date* will not be set and in the archive-view the *k\_folder\_name* will not be set.</p>
</article>
        </div>
        <!-- end -->
		</div>
	</section>

    <section>&nbsp;</section>

	<footer id="footer" class="footer light-text">
		<div class="container">
			<div class="footer-content row">
				<div class="col-sm-12 social-wrap col-xs-12">
					<strong class="heading">Follow us on Twitter</strong>
					<ul class="list-inline socials">
						<li><a href="https://twitter.com/CouchCMS"><span class="icon icon-socialmedia-07"></span></a></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="copyright">&copy; 2010-2017 Webzyme Softwares Pvt. Ltd. All Rights Reserved</div>
	</footer>

	<div class="back-to-top"><i class="fa fa-angle-up fa-3x"></i></div>

	<!--[if lt IE 9]>
		<script type="text/javascript" src="../assets/js/jquery-1.11.3.min.js?ver=1"></script>
	<![endif]-->
	<!--[if (gte IE 9) | (!IE)]><!-->
		<script type="text/javascript" src="../assets/js/jquery-2.1.4.min.js?ver=1"></script>
	<!--<![endif]-->

	<script type="text/javascript" src="../assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../assets/js/startuply.js"></script>
    <script type="text/javascript" src="../assets/js/ga.js"></script>
</body>
</html>
