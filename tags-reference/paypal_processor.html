<!DOCTYPE html>
<!--[if IE 7]><html class="no-js ie7" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js ie8" lang="en"><![endif]-->
<!--[if IE 9]><html class="no-js ie9" lang="en"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
    <meta charset="utf-8"/>
    <meta content="CouchCMS - A simple, light-weight and open-source CMS for web designers" name="description"/>
    <title>paypal_processor - Documentation | CouchCMS - A simple and Open-Source CMS for web designers</title>

    <link href="../assets/css/style.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic" rel="stylesheet" type="text/css"/>
    <link href="../favicon.ico" rel="shortcut icon"/>

    <!--[if lt IE 9]><script src="../assets/js/IE9.js"></script><![endif]-->
    <script src="../assets/js/modernizr.custom.js"></script>
</head>

<body>
    <div class="docs" id="container">
        <header>
            <a class="logo" href="http://www.couchcms.com/" title="Back to homepage"><img alt="A simple and Open-Source CMS for designers" src="../assets/img/logo.png"/></a>
            <nav>
                <ul>
                    <li><a href="http://www.couchcms.com/">Home</a></li>
                    <li><a href="http://www.couchcms.com/products/">Downloads &amp; License</a></li>
                    <li><a class="active" href="http://docs.couchcms.com/">Documentation</a></li>
                    <li><a href="http://www.couchcms.com/forum/">Forum</a></li>
                    <li><a href="http://www.couchcms.com/hire-us/">Hire Us</a></li>
                    <li><a href="http://www.couchcms.com/contact/">Contact Us</a></li>
                </ul>
            </nav>
        </header>

        <a class="report-bug" data-title="paypal_processor" href="https://github.com/CouchCMS/Documentation/issues/new" target="_blank" title="Is there a mistake on this page? Report the issue!"><img alt="" src="../assets/img/bug.png"/></a>

        <div id="content"><ul class="breadcrumbs" itemscope itemtype="http://schema.org/BreadcrumbList">
                    <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="../index.html" itemprop="item"><span itemprop="name">Documentation</span><meta content="1" itemprop="position"/></a></li><li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="../tags-reference.html" itemprop="item"><span itemprop="name">Tags Reference</span><meta content="2" itemprop="position"/></a></li><li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a class="text-link" href="../tags-reference/paypal_processor.html" itemprop="item"><span itemprop="name">paypal_processor</span><meta content="3" itemprop="position"/></a></li>
                </ul><form action="../search.html" class="search_form" method="get" name="search_form">
                <label for="search"><strong>Search</strong></label>
                <input id="search_input" name="q" required type="text" value=""/>
                <input id="search_submit" type="submit" value="Go"/>
            </form>

            <article><h1 id="paypal_processor">paypal_processor</h1>
<p>The <strong>paypal_processor</strong> tag can be used to process PayPal IPN.</p>
<p>Please see <a href="../concepts/paypal.html"><strong>Core Concepts - PayPal</strong></a> for an in-depth discussion of this tag.</p>
<h2 id="parameters">Parameters</h2>
<ul>
<li>debug</li>
<li>logfile</li>
</ul>
<h3 id="debug">debug</h3>
<p>The processing of IPN by this tag is a background operation which makes it difficult to know what exactly is going on in case things don&#39;t work in the expected manner. By setting this parameter to &#39;1&#39;, we can make this tag log into a file (specified by the <em>logfile</em> parameter) every step it takes while processing.</p>
<h3 id="logfile">logfile</h3>
<p>The log file into which the steps are to be logged. If this parameter is skipped, a log file named &#39;log.txt&#39; in your site&#39;s root is used (created if not already existing) for logging.<br/>
You can specify a path with the file that is relative to the site&#39;s root.</p>
<pre><code>&lt;cms:paypal_processor debug=&#39;1&#39; logfile=&#39;paypal.log&#39; /&gt;
</code></pre><pre><code>&lt;cms:paypal_processor debug=&#39;1&#39; logfile=&#39;couch/uploads/file/secure/paypal.log&#39; /&gt;
</code></pre><p>In the last snippet we are saving the log file in a subfolder of Couch which has a .htaccess file protecting its contents from being directly downloaded.</p>
<h2 id="variables">Variables</h2>
<p>PayPal provides values pertaining to the transaction being handled through the IPN. This tag makes available those values by setting variables for each. The following are the variables that give those values -</p>
<ul>
<li>pp_item_name</li>
<li>pp_item_number</li>
<li>pp_quantity</li>
<li>pp_mc_gross</li>
<li>pp_mc_currency</li>
<li>pp_txn_id</li>
<li>pp_receiver_email</li>
<li>pp_payer_email</li>
<li>pp_first_name</li>
<li>pp_last_name</li>
<li>pp_payer_business_name</li>
</ul>
<p>Once this tag verifies that the transaction is valid, it sets an additional variable to notify this -</p>
<ul>
<li>k_paypal_success</li>
</ul>
<p>Apart from this variable, all the variables of the page representing the item being sold, which are normally available in the page&#39;s <a href="../concepts/variables-in-views.html"><strong>page-view</strong></a>, are also made available.</p>
<p>If the transaction is deemed invalid, the following variable is set to notify this -</p>
<ul>
<li>k_paypal_error</li>
</ul>
<h2 id="related-tags">Related Tags</h2>
<ul>
<li><a href="paypal_button.html">paypal_button</a></li>
</ul>
</article>
        </div>
    </div>

    <footer>
        <div class="wrapper">
            <p>&copy; 2010-2013 Webzyme Softwares Pvt. Ltd. All Rights Reserved</p>
            <ul class="credits">
                <li>Website designed by <a href="http://davortomic.com">Davor Tomic</a></li>
                <li>Icons by <a href="http://famfamfam.com/lab/icons/silk/">FamFamFam</a></li>
            </ul>
            <ul class="footnav">
                <li><a class="twitter" href="http://twitter.com/CouchCMS" target="_blank"><i><strong>follow us</strong> on twitter</i></a></li>
                <li><a class="backtotop"><i>Top</i></a></li>
            </ul>
        </div>
    </footer>

    <script src="../assets/js/jquery.min.js"></script>
    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/ga.js"></script>
</body>
</html>
