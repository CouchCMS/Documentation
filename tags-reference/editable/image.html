<!doctype html>
<html lang="en">
<head>

	<meta charset="utf-8">
	<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	<title>type = &#39;image&#39; - Documentation | CouchCMS - A simple and Open-Source CMS for web designers</title>
	<meta name="description" content="CouchCMS - A simple, light-weight and open-source CMS for web designers">
	<meta name="keywords" content="">
	<link rel="shortcut icon" href="../../assets/img/favicon.ico">
	<link rel="apple-touch-icon" href="../../assets/img/apple-touch-icon.jpg">
	<link rel="apple-touch-icon" sizes="72x72" href="../../assets/img/apple-touch-icon-72x72.jpg">
	<link rel="apple-touch-icon" sizes="114x114" href="../../assets/img/apple-touch-icon-114x114.jpg">
    <link rel="stylesheet" type="text/css" href="../../assets/css/custom-animations.css" />
	<link rel="stylesheet" type="text/css" href="../../assets/css/lib/font-awesome.min.css" />
	<link rel="stylesheet" type="text/css" href="../../assets/css/style.css" />


    <link rel="stylesheet" type="text/css" href="../../assets/css/docs-style.css" />

	<!--[if lt IE 9]>
		<script src="../../assets/js/html5shiv.js"></script>
		<script src="../../assets/js/respond.min.js"></script>
	<![endif]-->
</head>

<body>
	<!-- Header -->
	<header>
		<nav class="navigation navigation-header relative-header background-header">
			<div class="container">
				<div class="navigation-brand">
					<div class="brand-logo">
						<a href="http://www.couchcms.com/" class="logo"></a><a href="http://www.couchcms.com/" class="logo logo-alt"></a>
					</div>
				</div>
				<button class="navigation-toggle">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<div class="navigation-navbar collapsed">
					<ul class="navigation-bar navigation-bar-left">
						<li><a href="http://www.couchcms.com/">Home</a></li>
                        <li><a href="http://www.couchcms.com/products/">Downloads & License</a></li>
                        <li class="active"><a href="http://docs.couchcms.com/">Documentation</a></li>
						<li><a href="http://www.couchcms.com/forum/">Forum</a></li>
                        <li><a href="http://www.couchcms.com/contact/">Contact Us</a></li>
					</ul>
					<ul class="navigation-bar navigation-bar-right">
						<li class="featured"><a class="btn btn-sm btn-outline-color" href="https://github.com/CouchCMS/CouchCMS">GitHub Repository</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>

	<section class="section dark-text" >
		<div class="container">
        <!-- start -->
        <a class="report-bug" data-title="type = &#39;image&#39;" href="https://github.com/CouchCMS/Documentation/issues/new" target="_blank" title="Is there a mistake on this page? Report the issue!"><img alt="" src="../../assets/img/bug.png"/></a>

        <div id="content"><ul class="breadcrumbs" itemscope itemtype="http://schema.org/BreadcrumbList">
                    <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="../../index.html" itemprop="item"><span itemprop="name">Documentation</span><meta content="1" itemprop="position"/></a></li><li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="../../tags-reference.html" itemprop="item"><span itemprop="name">Tags Reference</span><meta content="2" itemprop="position"/></a></li><li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a href="../editable.html" itemprop="item"><span itemprop="name">editable</span><meta content="3" itemprop="position"/></a></li><li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a class="text-link" href="../../tags-reference/editable/image.html" itemprop="item"><span itemprop="name">type = &#39;image&#39;</span><meta content="4" itemprop="position"/></a></li>
                </ul><article><h1 id="type-image-">type = &#39;image&#39;</h1>
<p>Editable region of type <strong>image</strong> is primarily used to allow the user to upload an image from his local computer onto the server. The user can also browse and select any of the previously uploaded images.<br/>
Once an image has been selected, this editable region then holds a fully qualified URL of the uploaded image.</p>
<p class="notice">
    <strong>NOTE:</strong> By default, all uploaded images will be saved within the <em><strong>couch/uploads/image</strong></em> folder (or any subfolders created by the user within it). You can set the location to any other folder by uncommenting entry number 12 (<em>K_UPLOAD_DIR</em>) in <em>config.php</em> and changing it to the desired location.<br/>
    <br/>
    <code>// 12.
// Upload folder if not using the default upload folder within &#39;couch&#39;.
// Should be relative to your site (don&#39;t forget to set write permissions on it).
define( &#39;K_UPLOAD_DIR&#39;, &#39;myuploads&#39; );</code>
</p>

<p>An editable region of type <em>image</em> can be defined this way -</p>
<pre><code>&lt;cms:editable
    name=&#39;prop_image&#39;
    label=&#39;Image&#39;
    desc=&#39;Upload main image of property here&#39;
    type=&#39;image&#39;
/&gt;
</code></pre><p>The code will result in -</p>
<p><img src="../../assets/img/contents/editable-image-1.gif" alt=""></p>
<p>Clicking the &#39;Browse Server&#39; button will bring up a window which can be used to browse previously uploaded images on the server or upload a new image from the local machine.</p>
<p>The contents of this region can be accessed, as with all other editable regions, by using the variable named after it -</p>
<pre><code>&lt;img src=&quot;&lt;cms:show prop_image /&gt;&quot; /&gt;
</code></pre><h2 id="parameters">Parameters</h2>
<p>Apart from the parameters common to all types of editable regions, the regions of <em>image</em> type can take the following parameters -</p>
<ul>
<li>width</li>
<li>height</li>
<li>enforce_max</li>
<li>crop</li>
<li>quality</li>
<li>show_preview</li>
<li>preview_width</li>
<li>preview_height</li>
</ul>
<h3 id="width">width</h3>
<h3 id="height">height</h3>
<pre><code>&lt;cms:editable name=&#39;prop_image&#39; width=&#39;300&#39; height=&#39;200&#39; type=&#39;image&#39; /&gt;
</code></pre><p>As mentioned above, when a user uploads an image, Couch saves it in a particular folder on the server. You can ask Couch to ensure that the saved image is of a <strong>particular width and height</strong> or <strong>never exceeds certain width and height</strong>.<br/>
These dimensions (in pixels) are represented by the <em>width</em> and <em>height</em> parameter.</p>
<p>How these dimensions are interpreted by Couch depends on the settings of two other (mutually exclusive) parameters -<br/>
<em>enforce_max</em> and <em>crop</em>.</p>
<p class="notice">
    <strong>NOTE:</strong> If <strong>none</strong> of the two dimensions are specified, e.g.<br/>
    <br/>
    <code>&lt;cms:editable name=&#39;prop_image&#39; type=&#39;image&#39; /&gt;</code>
    regardless of any settings of <em>enforce_max</em> and <em>crop</em>, the saved image will always be of exactly the same dimensions as the one uploaded (i.e. not resized at all).
</p>

<h3 id="enforce_max">enforce_max</h3>
<p>With <em>enforce_max</em> set to <em>1</em> (the default), the <em>width</em> and <em>height</em> parameters are interpreted as being the maximum permitted values of the saved image&#39;s width and height.</p>
<p>If any of the dimensions of an uploaded image exceeds the provided value, Couch resizes the image (preserving the existing proportion between width and height) till that dimension is reduced to the supplied value.</p>
<p>If both height and width are specified, enforcing the limit of one dimension might end up making the other dimension smaller than what was specified (<em>see examples below</em>).</p>
<p class="notice"><strong>By default <em>enforce_max</em> is always on so you do not have to explicitly set it.</strong> It can be turned off either by specifically setting it to <em>0</em> (enforce_max=&#39;0&#39;) or by turnng on <em>crop</em> (crop=&#39;1&#39;).</p>

<h4 id="examples-">Examples:</h4>
<h4 id="specifying-only-one-dimension">Specifying only one dimension</h4>
<pre><code>&lt;cms:editable name=&#39;prop_image&#39; label=&#39;Image&#39; desc=&#39;Upload main image of property here&#39;
    width=&#39;150&#39;
    type=&#39;image&#39; /&gt;
</code></pre><table>
<thead>
<tr>
<th style="text-align:left">Uploaded Image (300 x 200)</th>
<th style="text-align:left">Saved Image (150 x 100)</th>
<th style="text-align:left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-2.jpg" alt=""></td>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-3.jpg" alt=""></td>
<td style="text-align:left">The width was constrained to 150px while also decreasing the height proportionately.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Uploaded Image (200 x 300)</th>
<th style="text-align:left">Saved Image (150 x 225)</th>
<th style="text-align:left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-4.jpg" alt=""></td>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-5.jpg" alt=""></td>
<td style="text-align:left">The width was constrained to 150px while also decreasing the height proportionately.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Uploaded Image (100 x 75)</th>
<th style="text-align:left">Saved Image (100 x 75)</th>
<th style="text-align:left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-6.jpg" alt=""></td>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-7.jpg" alt=""></td>
<td style="text-align:left">The width was already smaller than the required 150px, hence no changes made to the image.</td>
</tr>
</tbody>
</table>
<h4 id="specifying-both-dimensions">Specifying both dimensions</h4>
<pre><code>&lt;cms:editable name=&#39;prop_image&#39; label=&#39;Image&#39; desc=&#39;Upload main image of property here&#39;
    width=&#39;150&#39;
    height=&#39;150&#39;
    type=&#39;image&#39; /&gt;
</code></pre><table>
<thead>
<tr>
<th style="text-align:left">Uploaded Image (300 x 200)</th>
<th style="text-align:left">Saved Image (150 x 100)</th>
<th style="text-align:left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-8.jpg" alt=""></td>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-9.jpg" alt=""></td>
<td style="text-align:left">The width was constrained to 150px while also decreasing the height proportionately. The resulting height of 100px was smaller than the required 150px hence no further changes were made.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Uploaded Image (200 x 300)</th>
<th style="text-align:left">Saved Image (100 x 150)</th>
<th style="text-align:left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-10.jpg" alt=""></td>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-11.jpg" alt=""></td>
<td style="text-align:left">The width was constrained to 150px while also decreasing the height proportionately. The resulting height of 225px was larger than the required 150px hence the image was proportionately scaled further till the height became 150px. In doing so the width became smaller than 150px.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Uploaded Image (100 x 75)</th>
<th style="text-align:left">Saved Image (100 x 75)</th>
<th style="text-align:left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-12.jpg" alt=""></td>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-13.jpg" alt=""></td>
<td style="text-align:left">The width as well as the height were already smaller than the required 150px, hence no changes made to the image.</td>
</tr>
</tbody>
</table>
<h4 id="sidenote-">SIDENOTE:</h4>
<p>A short discussion is necessary about what happens if <em>enforce_max</em> is explicitly set to &#39;0&#39; instead of implicitly doing it by setting <em>crop</em> - e.g..</p>
<pre><code>&lt;cms:editable name=&#39;prop_image&#39; label=&#39;Image&#39; desc=&#39;Upload main image of property here&#39;
    width=&#39;150&#39;
    height=&#39;150&#39;
    enforce_max=&#39;0&#39;
    type=&#39;image&#39; /&gt;
</code></pre><p>In such cases, since height and width are no longer enforcing maximum dimensions, these values are interpreted as being the absolute dimensions for the saved image. While resizing the image to these values <strong><em>no effort is made to preserve the existing proportion</em></strong> between original height and width. The new image is simply resized to the given values and thus if the ratio of the new dimensions do not match that of the original ones you&#39;ll end up with having a distorted image. Thus -</p>
<table>
<thead>
<tr>
<th style="text-align:left">Uploaded Image (200 x 300)</th>
<th style="text-align:left">Saved Image (150 x 150)</th>
<th style="text-align:left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-14.jpg" alt=""></td>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-15.jpg" alt=""></td>
<td style="text-align:left">The image was simply resized to a width of 150px and a height of 150px. No attempt was made to mantain proportion and the resulting image is visibily squashed.</td>
</tr>
</tbody>
</table>
<h3 id="crop">crop</h3>
<p>With <em>crop</em> set to <em>1</em>, the <em>width</em> and <em>height</em> parameters are interpreted as specifying the dimensions using which the uploaded image should be saved.</p>
<p>If any of the dimensions of an uploaded image is lesser or greater than the value provided as parameters, Couch resizes the image (preserving the existing proportion between width and height) till that dimension is equal to the supplied value.</p>
<p>If both width and height are specified, very often while matching one dimension the other dimension overshoots the given value. In such cases, the overflowing part of it is cropped.</p>
<p class="notice">By setting this parameter to <em>1</em> we also implicitly turn off <em>enforce_max</em>.</p>

<h4 id="examples-">Examples:</h4>
<p><br/></p>
<h4 id="specifying-only-one-dimension">Specifying only one dimension</h4>
<pre><code>&lt;cms:editable name=&#39;prop_image&#39; label=&#39;Image&#39; desc=&#39;Upload main image of property here&#39;
    width=&#39;150&#39;
    crop=&#39;1&#39;
    type=&#39;image&#39; /&gt;
</code></pre><table>
<thead>
<tr>
<th style="text-align:left">Uploaded Image (300 x 200)</th>
<th style="text-align:left">Saved Image (150 x 100)</th>
<th style="text-align:left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-16.jpg" alt=""></td>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-17.jpg" alt=""></td>
<td style="text-align:left">The required width (150px) is smaller than the actual (300px), hence the width was reduced to 150px while also decreasing the height proportionately. The result is the same as with <em>enforce_max</em> on one dimension.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Uploaded Image (200 x 300)</th>
<th style="text-align:left">Saved Image (150 x 225)</th>
<th style="text-align:left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-18.jpg" alt=""></td>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-19.jpg" alt=""></td>
<td style="text-align:left">The required width (150px) is smaller than the actual (200px), hence the width was reduced to 150px while also decreasing the height proportionately. The result is the same as with <em>enforce_max</em> on one dimension.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Uploaded Image (100 x 75)</th>
<th style="text-align:left">Saved Image (150 x 112)</th>
<th style="text-align:left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-20.jpg" alt=""></td>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-21.jpg" alt=""></td>
<td style="text-align:left">The required width (150px) is larger than the actual (100px), hence the width was increased to 150px while also increasing the height proportionately. Note how the result differs from <em>enforce_max</em> on one dimension.</td>
</tr>
</tbody>
</table>
<h4 id="specifying-both-dimensions">Specifying both dimensions</h4>
<pre><code>&lt;cms:editable name=&#39;prop_image&#39; label=&#39;Image&#39; desc=&#39;Upload main image of property here&#39;
    width=&#39;150&#39;
    height=&#39;150&#39;
    crop=&#39;1&#39;
    type=&#39;image&#39; /&gt;
</code></pre><table>
<thead>
<tr>
<th style="text-align:left">Uploaded Image (300 x 200)</th>
<th style="text-align:left">Saved Image (150 x 150)</th>
<th style="text-align:left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-22.jpg" alt=""></td>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-23.jpg" alt=""></td>
<td style="text-align:left">The image is proportionately scaled till one of the two dimension is <em>equal</em> to the required value and the other is either <em>equal or larger</em> than the required value. In case the other dimension is larger, the surplus area is cropped off.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Uploaded Image (200 x 300)</th>
<th style="text-align:left">Saved Image (150 x 150)</th>
<th style="text-align:left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-24.jpg" alt=""></td>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-25.jpg" alt=""></td>
<td style="text-align:left">-same as above-</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Uploaded Image (100 x 75)</th>
<th style="text-align:left">Saved Image (150 x 150)</th>
<th style="text-align:left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-26.jpg" alt=""></td>
<td style="text-align:left"><img src="../../assets/img/contents/editable-image-27.jpg" alt=""></td>
<td style="text-align:left">-same as above-</td>
</tr>
</tbody>
</table>
<h3 id="quality">quality</h3>
<pre><code>&lt;cms:editable name=&#39;prop_image&#39; label=&#39;Image&#39; desc=&#39;Upload main image of property here&#39;
    width=&#39;150&#39;
    quality=&#39;50&#39;
    type=&#39;image&#39; /&gt;
</code></pre><p>You can set <em>quality</em> from 0 (worst quality, smaller file) to 100 (best quality, biggest file). The default value is 80.</p>
<h3 id="show_preview">show_preview</h3>
<pre><code>&lt;cms:editable name=&#39;prop_image&#39; label=&#39;Image&#39; desc=&#39;Upload main image of property here&#39;
    show_preview=&#39;1&#39;
    type=&#39;image&#39; /&gt;
</code></pre><p>Setting <em>show_preview</em> to &#39;1&#39; makes Couch display a preview of the selected image above the upload control.</p>
<p><img src="../../assets/img/contents/editable-image-28.jpg" alt=""></p>
<p>If <em>show_preview</em> is not set at all or is set to &#39;0&#39;, upon selecting an image a link is added below the upload control for previewing the selected image.</p>
<p><img src="../../assets/img/contents/editable-image-29.jpg" alt=""></p>
<h3 id="preview_width">preview_width</h3>
<h3 id="preview_height">preview_height</h3>
<p>As illustrated above, setting <em>show_preview</em> to &#39;1&#39; causes a preview of the selected image to appear. The dimensions of this preview can be set by using <em>preview_width</em> and <em>preview_height</em> (needless to say, these two parameters take effect only with <em>show_preview</em> set to &#39;1&#39;).</p>
<pre><code>&lt;cms:editable name=&#39;prop_image&#39; label=&#39;Image&#39; desc=&#39;Upload main image of property here&#39;
    show_preview=&#39;1&#39;
    preview_width=&#39;150&#39;
    type=&#39;image&#39; /&gt;
</code></pre><p><img src="../../assets/img/contents/editable-image-30.jpg" alt=""></p>
<p class="success">It is always a good idea to set at least one of the two dimensions while using <em>show_preview</em>.</p>

<h2 id="related-tags">Related Tags</h2>
<ul>
<li><a href="../editable.html">editable</a></li>
<li><a href="text.html">editable (text)</a></li>
<li><a href="password.html">editable (password)</a></li>
<li><a href="textarea.html">editable (textarea)</a></li>
<li><a href="richtext.html">editable (richtext)</a></li>
<li><a href="thumbnail.html">editable (thumbnail)</a></li>
<li><a href="file.html">editable (file)</a></li>
<li><a href="radio.html">editable (radio)</a></li>
<li><a href="checkbox.html">editable (checkbox)</a></li>
<li><a href="dropdown.html">editable (dropdown)</a></li>
<li><a href="group.html">editable (group)</a></li>
<li><a href="message.html">editable (message)</a></li>
<li><a href="nicedit.html">editable (nicedit)</a></li>
<li><a href="relation.html">editable (relation)</a></li>
</ul>
</article>
        </div>
        <!-- end -->
		</div>
	</section>

    <section>&nbsp;</section>

	<footer id="footer" class="footer light-text">
		<div class="container">
			<div class="footer-content row">
				<div class="col-sm-12 social-wrap col-xs-12">
					<strong class="heading">Follow us on Twitter</strong>
					<ul class="list-inline socials">
						<li><a href="http://twitter.com/CouchCMS"><span class="icon icon-socialmedia-07"></span></a></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="copyright">&copy; 2010-2017 Webzyme Softwares Pvt. Ltd. All Rights Reserved</div>
	</footer>

	<div class="back-to-top"><i class="fa fa-angle-up fa-3x"></i></div>

	<!--[if lt IE 9]>
		<script type="text/javascript" src="../../assets/js/jquery-1.11.3.min.js?ver=1"></script>
	<![endif]-->
	<!--[if (gte IE 9) | (!IE)]><!-->
		<script type="text/javascript" src="../../assets/js/jquery-2.1.4.min.js?ver=1"></script>
	<!--<![endif]-->

	<script type="text/javascript" src="../../assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../assets/js/startuply.js"></script>
    <script type="text/javascript" src="../../assets/js/ga.js"></script>
</body>
</html>
